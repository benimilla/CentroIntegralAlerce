<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/nav_graph"
    app:startDestination="@id/loginFragment">

    <!-- ======================================================= -->
    <!-- ðŸ”¹ AUTENTICACIÃ“N -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/loginFragment"
        android:name="cl.alercelab.centrointegral.auth.LoginFragment"
        android:label="Iniciar sesiÃ³n"
        tools:layout="@layout/fragment_login">

        <action
            android:id="@+id/action_login_to_calendar"
            app:destination="@id/calendarFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true"
            app:launchSingleTop="true" />

        <action
            android:id="@+id/action_login_to_register"
            app:destination="@id/registerFragment" />

        <action
            android:id="@+id/action_login_to_forgot"
            app:destination="@id/forgotFragment" />

        <action
            android:id="@+id/action_login_to_admin"
            app:destination="@id/adminMainFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true"
            app:launchSingleTop="true" />
    </fragment>

    <fragment
        android:id="@+id/registerFragment"
        android:name="cl.alercelab.centrointegral.auth.RegisterFragment"
        android:label="Registro"
        tools:layout="@layout/fragment_register" />

    <fragment
        android:id="@+id/forgotFragment"
        android:name="cl.alercelab.centrointegral.auth.ForgotPasswordFragment"
        android:label="Recuperar contraseÃ±a"
        tools:layout="@layout/fragment_forgot_password" />

    <!-- ======================================================= -->
    <!-- ðŸ”¹ CALENDARIO Y CITAS -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/calendarFragment"
        android:name="cl.alercelab.centrointegral.calendar.CalendarFragment"
        android:label="Calendario"
        tools:layout="@layout/fragment_calendar">

        <action
            android:id="@+id/action_calendarFragment_to_citaFormFragment"
            app:destination="@id/citaFormFragment" />

        <action
            android:id="@+id/action_calendarFragment_to_citaDetalleFragment"
            app:destination="@id/citaDetalleFragment" />
    </fragment>

    <fragment
        android:id="@+id/citaFormFragment"
        android:name="cl.alercelab.centrointegral.activities.CitaFormFragment"
        android:label="Formulario de Cita"
        tools:layout="@layout/fragment_cita_form" />

    <fragment
        android:id="@+id/citaDetalleFragment"
        android:name="cl.alercelab.centrointegral.calendar.CitaDetalleFragment"
        android:label="Detalle de Cita"
        tools:layout="@layout/fragment_cita_detalle">

        <action
            android:id="@+id/action_citaDetalleFragment_to_citaFormFragment"
            app:destination="@id/citaFormFragment" />
    </fragment>

    <!-- ======================================================= -->
    <!-- ðŸ”¹ ACTIVIDADES -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/activitiesFragment"
        android:name="cl.alercelab.centrointegral.activities.ActivitiesFragment"
        android:label="Actividades"
        tools:layout="@layout/fragment_activities">

        <action
            android:id="@+id/action_activities_to_activity_form"
            app:destination="@id/activityFormFragment" />

        <action
            android:id="@+id/action_activities_to_reschedule"
            app:destination="@id/activityRescheduleFragment" />

        <action
            android:id="@+id/action_activities_to_activity_detail"
            app:destination="@id/activityDetailFragment" />
    </fragment>

    <fragment
        android:id="@+id/activityDetailFragment"
        android:name="cl.alercelab.centrointegral.activities.ActivityDetailFragment"
        android:label="Detalle de Actividad"
        tools:layout="@layout/fragment_activity_detail" />

    <fragment
        android:id="@+id/activityFormFragment"
        android:name="cl.alercelab.centrointegral.activities.ActivityFormFragment"
        android:label="Nueva Actividad"
        tools:layout="@layout/fragment_activity_form">

        <action
            android:id="@+id/action_activityFormFragment_to_citaFormFragment"
            app:destination="@id/citaFormFragment" />

        <action
            android:id="@+id/action_activityFormFragment_to_activities"
            app:destination="@id/activitiesFragment"
            app:popUpTo="@id/activitiesFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <fragment
        android:id="@+id/activityRescheduleFragment"
        android:name="cl.alercelab.centrointegral.activities.ActivityRescheduleFragment"
        android:label="Reagendar Cita"
        tools:layout="@layout/fragment_activity_reschedule" />

    <!-- ======================================================= -->
    <!-- ðŸ”¹ CONFIGURACIÃ“N -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/settingsFragment"
        android:name="cl.alercelab.centrointegral.settings.SettingsFragment"
        android:label="ConfiguraciÃ³n"
        tools:layout="@layout/fragment_settings" />

    <!-- ======================================================= -->
    <!-- ðŸ”¹ ADMINISTRACIÃ“N -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/adminMainFragment"
        android:name="cl.alercelab.centrointegral.admin.AdminMainFragment"
        android:label="Panel de AdministraciÃ³n"
        tools:layout="@layout/fragment_admin_main">

        <action
            android:id="@+id/action_adminMain_to_adminUsers"
            app:destination="@id/adminUsersFragment" />

        <action
            android:id="@+id/action_adminMain_to_adminPending"
            app:destination="@id/adminPendingFragment" />

        <action
            android:id="@+id/action_adminMain_to_mantenedorTipoActividad"
            app:destination="@id/mantenedorTipoActividad" />

        <action
            android:id="@+id/action_adminMain_to_mantenedorLugar"
            app:destination="@id/mantenedorLugar" />

        <action
            android:id="@+id/action_adminMain_to_mantenedorOferente"
            app:destination="@id/mantenedorOferente" />

        <action
            android:id="@+id/action_adminMain_to_mantenedorSocio"
            app:destination="@id/mantenedorSocio" />

        <action
            android:id="@+id/action_adminMain_to_mantenedorProyecto"
            app:destination="@id/mantenedorProyecto" />

        <!-- âœ… AcciÃ³n de AuditorÃ­a -->
        <action
            android:id="@+id/action_adminMain_to_auditoria"
            app:destination="@id/auditoriaFragment" />
    </fragment>

    <fragment
        android:id="@+id/adminPendingFragment"
        android:name="cl.alercelab.centrointegral.admin.AdminPendingFragment"
        android:label="Usuarios Pendientes"
        tools:layout="@layout/fragment_admin_pending" />

    <!-- ======================================================= -->
    <!-- ðŸ”¹ GESTIÃ“N DE USUARIOS -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/adminUsersFragment"
        android:name="cl.alercelab.centrointegral.admin.AdminUsersFragment"
        android:label="GestiÃ³n de Usuarios"
        tools:layout="@layout/fragment_admin_users">

        <!-- âœ… Nueva acciÃ³n para crear usuario -->
        <action
            android:id="@+id/action_adminUsers_to_registerFragment"
            app:destination="@id/registerFragment" />
    </fragment>

    <!-- ======================================================= -->
    <!-- ðŸ”¹ MANTENEDORES -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/mantenedorTipoActividad"
        android:name="cl.alercelab.centrointegral.admin.MantenedorTipoActividadFragment"
        android:label="Mantenedor - Tipos de Actividad"
        tools:layout="@layout/fragment_mantenedor_list" />

    <fragment
        android:id="@+id/mantenedorLugar"
        android:name="cl.alercelab.centrointegral.admin.MantenedorLugarFragment"
        android:label="Mantenedor - Lugares"
        tools:layout="@layout/fragment_mantenedor_list" />

    <fragment
        android:id="@+id/mantenedorOferente"
        android:name="cl.alercelab.centrointegral.admin.MantenedorOferenteFragment"
        android:label="Mantenedor - Oferentes"
        tools:layout="@layout/fragment_mantenedor_list" />

    <fragment
        android:id="@+id/mantenedorSocio"
        android:name="cl.alercelab.centrointegral.admin.MantenedorSocioFragment"
        android:label="Mantenedor - Socios Comunitarios"
        tools:layout="@layout/fragment_mantenedor_list" />

    <fragment
        android:id="@+id/mantenedorProyecto"
        android:name="cl.alercelab.centrointegral.admin.MantenedorProyectoFragment"
        android:label="Mantenedor - Proyectos"
        tools:layout="@layout/fragment_mantenedor_list" />

    <!-- ======================================================= -->
    <!-- ðŸ”¹ AUDITORÃA -->
    <!-- ======================================================= -->
    <fragment
        android:id="@+id/auditoriaFragment"
        android:name="cl.alercelab.centrointegral.admin.AuditoriaFragment"
        android:label="AuditorÃ­a del Sistema"
        tools:layout="@layout/fragment_auditoria" />

</navigation>
